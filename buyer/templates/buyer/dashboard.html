{% extends 'accounts/base.html' %}
{% block title %}Buyer Dashboard - AgriLeader{% endblock %}
{% block content %}
<div class="container mt-5">
    <h2 class="mb-4 text-center">Buyer Dashboard</h2>

    <!-- Stats Cards -->
    <div class="row g-4">
        <div class="col-md-6">
            <div class="card text-white bg-primary h-100 shadow-sm">
                <div class="card-body d-flex flex-column justify-content-between">
                    <div>
                        <h5 class="card-title">Total Purchases</h5>
                        <h2 class="card-text">{{ total_purchases }}</h2>
                    </div>
                    <a href="{% url 'buyer:my_purchases' %}" class="btn btn-light btn-sm mt-3 align-self-start">View Purchases</a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card text-white bg-success h-100 shadow-sm">
                <div class="card-body d-flex flex-column justify-content-between">
                    <div>
                        <h5 class="card-title">Active Bids</h5>
                        <h2 class="card-text">{{ active_bids }}</h2>
                    </div>
                    <a href="{% url 'buyer:marketplace_buy' %}" class="btn btn-light btn-sm mt-3 align-self-start">Manage Bids</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="row mt-5 g-3">
        <div class="col-md-6 d-grid gap-2">
            <a href="{% url 'buyer:marketplace_buy' %}" class="btn btn-primary btn-lg">Browse Marketplace</a>
            <a href="{% url 'buyer:storage_slots' %}" class="btn btn-warning btn-lg">Book Storage Slot</a>
            <a href="{% url 'buyer:subsidies' %}" class="btn btn-secondary btn-lg">View Subsidies</a>
        </div>
        <div class="col-md-6 d-grid gap-2">
            <a href="{% url 'buyer:my_purchases' %}" class="btn btn-info btn-lg">My Purchases</a>
            <a href="{% url 'notifications:buyer_notifications' %}" class="btn btn-dark btn-lg">Notifications</a>
        </div>
    </div>
</div>
{% endblock %}
